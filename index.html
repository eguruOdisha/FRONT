<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Help Portal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0e27;
            min-height: 100vh;
            padding: 16px;
            overflow-x: hidden;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(102, 126, 234, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(79, 172, 254, 0.15) 0%, transparent 50%);
            z-index: 0;
            animation: bgShift 15s ease-in-out infinite;
        }
        
        @keyframes bgShift {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .particle {
            position: fixed;
            width: 3px;
            height: 3px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            pointer-events: none;
            z-index: 1;
            animation: float-particle 20s infinite;
        }
        
        @keyframes float-particle {
            0% { transform: translateY(100vh) translateX(0) scale(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) translateX(100px) scale(1); opacity: 0; }
        }
        
        .page {
            display: none;
            position: relative;
            z-index: 10;
        }
        
        .page.active {
            display: block;
            animation: pageSlideIn 0.5s ease-out;
        }
        
        @keyframes pageSlideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .container {
            max-width: 420px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        /* Audio Card */
        .audio-card {
            background: linear-gradient(145deg, rgba(102, 126, 234, 0.25), rgba(118, 75, 162, 0.25));
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 16px 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .audio-card.playing {
            background: linear-gradient(145deg, rgba(102, 126, 234, 0.35), rgba(118, 75, 162, 0.35));
            animation: pulse-glow 2s ease-in-out infinite;
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 8px 32px rgba(102, 126, 234, 0.4); }
            50% { box-shadow: 0 12px 40px rgba(102, 126, 234, 0.6); }
        }
        
        .audio-content {
            display: flex;
            align-items: center;
            gap: 14px;
        }
        
        .audio-icon {
            width: 48px;
            height: 48px;
            min-width: 48px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        .audio-text {
            flex: 1;
        }
        
        .audio-title {
            color: white;
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .audio-subtitle {
            color: rgba(255, 255, 255, 0.85);
            font-size: 12px;
            font-weight: 500;
        }
        
        .audio-progress {
            width: 100%;
            height: 5px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 12px;
        }
        
        .audio-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #fff 0%, rgba(255, 255, 255, 0.8) 100%);
            width: 0%;
            transition: width 0.1s linear;
        }
        
        /* Image Container */
        .image-container {
            position: relative;
            width: 100%;
            padding: 16px;
            background: linear-gradient(145deg, rgba(79, 172, 254, 0.2), rgba(0, 242, 254, 0.2));
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
        }
        
        .welcome-image {
            width: 100%;
            height: auto;
            border-radius: 16px;
            display: block;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
            animation: float 4s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }
        
        /* Main Buttons */
        .btn {
            position: relative;
            padding: 20px 24px;
            font-size: 17px;
            font-weight: 700;
            text-decoration: none;
            text-align: left;
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            display: flex;
            align-items: center;
            gap: 16px;
            backdrop-filter: blur(10px);
        }
        
        .btn:active {
            transform: scale(0.97);
        }
        
        .btn-education {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%);
            color: #fff;
        }
        
        .btn-social {
            background: linear-gradient(135deg, rgba(79, 172, 254, 0.9) 0%, rgba(0, 242, 254, 0.9) 100%);
            color: #fff;
        }
        
        .btn-icon {
            font-size: 38px;
            min-width: 38px;
        }
        
        .btn-content {
            flex: 1;
        }
        
        .btn-title {
            display: block;
            font-size: 18px;
            font-weight: 800;
            margin-bottom: 3px;
        }
        
        .btn-subtitle {
            display: block;
            font-size: 14px;
            font-weight: 600;
            opacity: 0.95;
        }
        
        /* Back Button */
        .back-btn {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 12px 20px;
            border-radius: 16px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 6px 24px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            margin-bottom: 16px;
        }
        
        .back-btn:active {
            transform: scale(0.95);
        }
        
        /* Category Cards */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 14px;
            margin-top: 12px;
        }
        
        .category-card {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.35), rgba(118, 75, 162, 0.35));
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 24px 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 24px rgba(0, 0, 0, 0.4);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 130px;
        }
        
        .category-card:active {
            transform: scale(0.95);
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.45), rgba(118, 75, 162, 0.45));
        }
        
        .category-icon {
            font-size: 48px;
            margin-bottom: 12px;
        }
        
        .category-name {
            font-size: 16px;
            font-weight: 800;
            line-height: 1.3;
        }
        
        /* Subject Grid */
        .subjects-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 12px;
        }
        
        .subject-card {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.3));
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 16px;
            padding: 14px 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
            color: white;
            text-decoration: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 85px;
        }
        
        .subject-card:active {
            transform: scale(0.95);
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.4), rgba(118, 75, 162, 0.4));
        }
        
        .subject-icon {
            font-size: 28px;
            margin-bottom: 6px;
        }
        
        .subject-name {
            font-size: 12px;
            font-weight: 700;
            line-height: 1.3;
        }
        
        /* Page Title */
        .page-title {
            color: white;
            font-size: 22px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 8px;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }
        
        /* Social Help Buttons */
        .social-buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 12px;
        }
        
        .social-btn {
            background: linear-gradient(135deg, rgba(79, 172, 254, 0.3), rgba(0, 242, 254, 0.3));
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 18px;
            padding: 16px 20px;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 24px rgba(0, 0, 0, 0.3);
        }
        
        .social-btn:active {
            transform: scale(0.97);
            background: linear-gradient(135deg, rgba(79, 172, 254, 0.4), rgba(0, 242, 254, 0.4));
        }
        
        .social-btn-icon {
            font-size: 32px;
            min-width: 32px;
        }
        
        .social-btn-text {
            flex: 1;
            font-size: 14px;
            font-weight: 700;
            line-height: 1.4;
        }
        
        /* Scrollable container for subjects */
        .subjects-container {
            max-height: calc(100vh - 280px);
            overflow-y: auto;
            padding-right: 4px;
        }
        
        .subjects-container::-webkit-scrollbar {
            width: 4px;
        }
        
        .subjects-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
        }
        
        .subjects-container::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
        }
        
        /* View switching */
        .view {
            display: none;
        }
        
        .view.active {
            display: block;
            animation: viewSlideIn 0.4s ease-out;
        }
        
        @keyframes viewSlideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
    </style>
</head>
<body>
    <script>
        for (let i = 0; i < 15; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            document.body.appendChild(particle);
        }
    </script>
    
    <!-- HOME PAGE -->
    <div class="page active" id="homePage">
        <div class="container">
            <a href="https://sites.google.com/view/odia-sahayak/home" class="back-btn" style="margin-bottom: 20px;" target="_blank" rel="noopener noreferrer">
                <span>🏠</span>
                <span>ମୁଖ୍ୟ ପୃଷ୍ଠାକୁ ଫେରନ୍ତୁ</span>
            </a>
            
            <div class="audio-card" id="homeAudioCard">
                <div class="audio-content">
                    <div class="audio-icon" id="homeAudioIcon">🔇</div>
                    <div class="audio-text">
                        <div class="audio-title">ଶୁଣିବା ପାଇଁ ଏଠାରେ କ୍ଲିକ୍ କରନ୍ତୁ</div>
                        <div class="audio-subtitle" id="homeAudioStatus">Tap to play audio</div>
                    </div>
                </div>
                <div class="audio-progress">
                    <div class="audio-progress-bar" id="homeProgressBar"></div>
                </div>
            </div>
            
            <div class="image-container">
                <img src="https://github.com/eguruOdisha/FRONT/raw/main/welcome%20image.gif" 
                     alt="Welcome" 
                     class="welcome-image"
                     loading="eager">
            </div>
            
            <button class="btn btn-education" onclick="showPage('educationPage')">
                <span class="btn-icon">📚</span>
                <span class="btn-content">
                    <span class="btn-title">Educational Help</span>
                    <span class="btn-subtitle">ଶିକ୍ଷା ସମ୍ବନ୍ଧୀୟ ସହାୟତା</span>
                </span>
            </button>
            
            <button class="btn btn-social" onclick="showPage('socialPage')">
                <span class="btn-icon">🤝</span>
                <span class="btn-content">
                    <span class="btn-title">Social Help</span>
                    <span class="btn-subtitle">ସାମାଜିକ ସହାୟତା</span>
                </span>
            </button>
        </div>
    </div>
    
    <!-- EDUCATION PAGE -->
    <div class="page" id="educationPage">
        <div class="container">
            <button class="back-btn" onclick="handleEducationBack()">
                <span>←</span>
                <span id="eduBackText">Back to Home</span>
            </button>
            
            <div class="audio-card" id="eduAudioCard">
                <div class="audio-content">
                    <div class="audio-icon" id="eduAudioIcon">🔇</div>
                    <div class="audio-text">
                        <div class="audio-title">ଶିକ୍ଷା ସହାୟତା ଶୁଣନ୍ତୁ</div>
                        <div class="audio-subtitle" id="eduAudioStatus">Tap to play audio</div>
                    </div>
                </div>
                <div class="audio-progress">
                    <div class="audio-progress-bar" id="eduProgressBar"></div>
                </div>
            </div>
            
            <!-- CATEGORIES VIEW -->
            <div class="view active" id="categoriesView">
                <div class="page-title">📚 Select Category</div>
                <div class="categories-grid">
                    <div class="category-card" onclick="showCategorySubjects('law')">
                        <div class="category-icon">⚖️</div>
                        <div class="category-name">Law Subjects</div>
                    </div>
                    <div class="category-card" onclick="showCategorySubjects('commerce')">
                        <div class="category-icon">💼</div>
                        <div class="category-name">Commerce Subjects</div>
                    </div>
                    <div class="category-card" onclick="showCategorySubjects('arts')">
                        <div class="category-icon">🎨</div>
                        <div class="category-name">Arts Subjects</div>
                    </div>
                    <div class="category-card" onclick="showCategorySubjects('others')">
                        <div class="category-icon">📝</div>
                        <div class="category-name">Other Subjects</div>
                    </div>
                </div>
            </div>
            
            <!-- LAW SUBJECTS VIEW -->
            <div class="view" id="lawView">
                <div class="page-title">⚖️ Law Subjects</div>
                <div class="subjects-container">
                    <div class="subjects-grid">
                        <a href="#" class="subject-card" onclick="openSubject(event, 'BNSS')">
                            <div class="subject-icon">📖</div>
                            <div class="subject-name">BNSS</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'BNS')">
                            <div class="subject-icon">⚖️</div>
                            <div class="subject-name">BNS</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'BSA')">
                            <div class="subject-icon">📜</div>
                            <div class="subject-name">BSA</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'Constitutional Law')">
                            <div class="subject-icon">🏛️</div>
                            <div class="subject-name">Constitutional Law</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'CPC')">
                            <div class="subject-icon">⚖️</div>
                            <div class="subject-name">CPC</div>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- COMMERCE SUBJECTS VIEW -->
            <div class="view" id="commerceView">
                <div class="page-title">💼 Commerce Subjects</div>
                <div class="subjects-container">
                    <div class="subjects-grid">
                        <a href="#" class="subject-card" onclick="openSubject(event, 'Accounting-I')">
                            <div class="subject-icon">📊</div>
                            <div class="subject-name">Accounting-I</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'Accounting-II')">
                            <div class="subject-icon">📊</div>
                            <div class="subject-name">Accounting-II</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'BSM')">
                            <div class="subject-icon">📈</div>
                            <div class="subject-name">BSM</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'BMS')">
                            <div class="subject-icon">💼</div>
                            <div class="subject-name">BMS</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'FMA')">
                            <div class="subject-icon">💰</div>
                            <div class="subject-name">FMA</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'FCA')">
                            <div class="subject-icon">💵</div>
                            <div class="subject-name">FCA</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'IT')">
                            <div class="subject-icon">💻</div>
                            <div class="subject-name">IT</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'Financial Accounting')">
                            <div class="subject-icon">💳</div>
                            <div class="subject-name">Financial Accounting</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'Cost Accounting')">
                            <div class="subject-icon">📉</div>
                            <div class="subject-name">Cost Accounting</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'Management Accounting')">
                            <div class="subject-icon">📋</div>
                            <div class="subject-name">Management Accounting</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'Business Law')">
                            <div class="subject-icon">⚖️</div>
                            <div class="subject-name">Business Law</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'Company Law')">
                            <div class="subject-icon">🏢</div>
                            <div class="subject-name">Company Law</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'Income Tax')">
                            <div class="subject-icon">💰</div>
                            <div class="subject-name">Income Tax</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'GST')">
                            <div class="subject-icon">🧾</div>
                            <div class="subject-name">Goods & Service Tax</div>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- ARTS SUBJECTS VIEW -->
            <div class="view" id="artsView">
                <div class="page-title">🎨 Arts Subjects</div>
                <div class="subjects-container">
                    <div class="subjects-grid">
                        <a href="#" class="subject-card" onclick="openSubject(event, 'Political Science-I')">
                            <div class="subject-icon">🗳️</div>
                            <div class="subject-name">Political Science-I</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'Political Science-II')">
                            <div class="subject-icon">🗳️</div>
                            <div class="subject-name">Political Science-II</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'Economics-I')">
                            <div class="subject-icon">📈</div>
                            <div class="subject-name">Economics-I</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'Economics-II')">
                            <div class="subject-icon">📊</div>
                            <div class="subject-name">Economics-II</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'History-I')">
                            <div class="subject-icon">🏛️</div>
                            <div class="subject-name">History-I</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'History-II')">
                            <div class="subject-icon">📜</div>
                            <div class="subject-name">History-II</div>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- OTHER SUBJECTS VIEW -->
            <div class="view" id="othersView">
                <div class="page-title">📝 Other Subjects</div>
                <div class="subjects-container">
                    <div class="subjects-grid">
                        <a href="#" class="subject-card" onclick="openSubject(event, 'English-I')">
                            <div class="subject-icon">📖</div>
                            <div class="subject-name">English-I</div>
                        </a>
                        <a href="#" class="subject-card" onclick="openSubject(event, 'English-II')">
                            <div class="subject-icon">📚</div>
                            <div class="subject-name">English-II</div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- SOCIAL HELP PAGE -->
    <div class="page" id="socialPage">
        <div class="container">
            <button class="back-btn" onclick="showPage('homePage')">
                <span>←</span>
                <span>Back to Home</span>
            </button>
            
            <div class="audio-card" id="socialAudioCard">
                <div class="audio-content">
                    <div class="audio-icon" id="socialAudioIcon">🔇</div>
                    <div class="audio-text">
                        <div class="audio-title">ସାମାଜିକ ସହାୟତା ଶୁଣନ୍ତୁ</div>
                        <div class="audio-subtitle" id="socialAudioStatus">Tap to play audio</div>
                    </div>
                </div>
                <div class="audio-progress">
                    <div class="audio-progress-bar" id="socialProgressBar"></div>
                </div>
            </div>
            
            <div class="page-title">🤝 Social Help Services</div>
            
            <div class="social-buttons">
                <a href="#" class="social-btn" onclick="openSocialHelp(event, 'justice')">
                    <span class="social-btn-icon">⚖️</span>
                    <span class="social-btn-text">ନ୍ୟାୟ ପାଇଁ ଅନ୍-ଲାଇନ୍ ସହାୟତା</span>
                </a>
                
                <a href="#" class="social-btn" onclick="openSocialHelp(event, 'government')">
                    <span class="social-btn-icon">🏛️</span>
                    <span class="social-btn-text">ସରକାରଙ୍କ ସହିତ ଯୋଗାଯୋଗ ପାଇଁ ଅନ୍-ଲାଇନ୍ ବ୍ୟବସ୍ଥା</span>
                </a>
                
                <a href="#" class="social-btn" onclick="openSocialHelp(event, 'newspaper')">
                    <span class="social-btn-icon">📰</span>
                    <span class="social-btn-text">ଦୈନିକ ଖବରକାଗଜ ପଢିବା ପାଇଁ ଅନ୍-ଲାଇନ୍ ବ୍ୟବସ୍ଥା</span>
                </a>
                
                <a href="#" class="social-btn" onclick="openSocialHelp(event, 'spiritual')">
                    <span class="social-btn-icon">🕉️</span>
                    <span class="social-btn-text">ଜ୍ଯୋତିଷଶାସ୍ତ୍ର ଏବଂ ଆଧ୍ୟାତ୍ମିକ ଜ୍ଞାନ ବୃଦ୍ଧି ପାଇଁ ଅନ୍-ଲାଇନ୍ ବ୍ୟବସ୍ଥା</span>
                </a>
            </div>
        </div>
    </div>

    <script>
        // Audio managers for each page
        const audioManagers = {
            home: {
                url: 'https://raw.githubusercontent.com/eguruOdisha/FRONT/main/ospage1.mp3',
                audio: new Audio(),
                card: null,
                icon: null,
                status: null,
                progress: null,
                isPlaying: false,
                loaded: false
            },
            education: {
                url: 'https://raw.githubusercontent.com/eguruOdisha/FRONT/main/education-audio.mp3',
                audio: new Audio(),
                card: null,
                icon: null,
                status: null,
                progress: null,
                isPlaying: false,
                loaded: false
            },
            social: {
                url: 'https://raw.githubusercontent.com/eguruOdisha/FRONT/main/social-audio.mp3',
                audio: new Audio(),
                card: null,
                icon: null,
                status: null,
                progress: null,
                isPlaying: false,
                loaded: false
            }
        };
        
        // Initialize audio managers
        function initAudioManager(type, cardId, iconId, statusId, progressId) {
            const manager = audioManagers[type];
            manager.card = document.getElementById(cardId);
            manager.icon = document.getElementById(iconId);
            manager.status = document.getElementById(statusId);
            manager.progress = document.getElementById(progressId);
            
            manager.audio.crossOrigin = 'anonymous';
            manager.audio.preload = 'metadata';
            
            // Event listeners
            manager.audio.addEventListener('loadstart', () => {
                manager.status.textContent = 'Loading...';
            });
            
            manager.audio.addEventListener('canplay', () => {
                manager.status.textContent = 'Tap to play';
            });
            
            manager.audio.addEventListener('timeupdate', () => {
                if (manager.audio.duration && !isNaN(manager.audio.duration)) {
                    const progress = (manager.audio.currentTime / manager.audio.duration) * 100;
                    manager.progress.style.width = `${progress}%`;
                }
            });
            
            manager.audio.addEventListener('playing', () => {
                manager.status.textContent = 'Playing...';
                manager.isPlaying = true;
                manager.icon.textContent = '🔊';
                manager.card.classList.add('playing');
            });
            
            manager.audio.addEventListener('pause', () => {
                manager.status.textContent = 'Paused';
                manager.isPlaying = false;
                manager.icon.textContent = '🔇';
                manager.card.classList.remove('playing');
            });
            
            manager.audio.addEventListener('ended', () => {
                manager.isPlaying = false;
                manager.icon.textContent = '🔇';
                manager.card.classList.remove('playing');
                manager.progress.style.width = '0%';
                manager.status.textContent = 'Tap to replay';
            });
            
            manager.audio.addEventListener('error', (e) => {
                console.error('Audio error:', e);
                manager.status.textContent = 'Audio unavailable';
                manager.icon.textContent = '❌';
            });
            
            // Card click handler
            manager.card.addEventListener('click', () => {
                if (!manager.loaded) {
                    manager.audio.src = manager.url;
                    manager.audio.load();
                    manager.loaded = true;
                }
                
                if (manager.isPlaying) {
                    manager.audio.pause();
                } else {
                    manager.audio.play().catch(error => {
                        console.error('Playback failed:', error);
                        manager.status.textContent = 'Error - Tap again';
                    });
                }
            });
        }
        
        // Initialize all audio managers
        initAudioManager('home', 'homeAudioCard', 'homeAudioIcon', 'homeAudioStatus', 'homeProgressBar');
        initAudioManager('education', 'eduAudioCard', 'eduAudioIcon', 'eduAudioStatus', 'eduProgressBar');
        initAudioManager('social', 'socialAudioCard', 'socialAudioIcon', 'socialAudioStatus', 'socialProgressBar');
        
        // Page and view navigation
        let currentPage = 'homePage';
        let currentView = 'categoriesView';
        
        function showPage(pageId) {
            // Stop all audio when changing pages
            Object.values(audioManagers).forEach(manager => {
                if (manager.isPlaying) {
                    manager.audio.pause();
                }
            });
            
            // Hide current page
            document.getElementById(currentPage).classList.remove('active');
            
            // Show new page
            document.getElementById(pageId).classList.add('active');
            currentPage = pageId;
            
            // Reset education view to categories when entering education page
            if (pageId === 'educationPage') {
                showView('categoriesView');
                document.getElementById('eduBackText').textContent = 'Back to Home';
            }
            
            // Scroll to top
            window.scrollTo(0, 0);
        }
        
        function showView(viewId) {
            // Hide current view
            const currentViewElement = document.querySelector('#educationPage .view.active');
            if (currentViewElement) {
                currentViewElement.classList.remove('active');
            }
            
            // Show new view
            document.getElementById(viewId).classList.add('active');
            currentView = viewId;
            
            // Scroll to top
            window.scrollTo(0, 0);
        }
        
        function showCategorySubjects(category) {
            const viewMap = {
                'law': 'lawView',
                'commerce': 'commerceView',
                'arts': 'artsView',
                'others': 'othersView'
            };
            
            showView(viewMap[category]);
            document.getElementById('eduBackText').textContent = 'Back to Categories';
        }
        
        function handleEducationBack() {
            if (currentView === 'categoriesView') {
                // Go back to home page
                showPage('homePage');
            } else {
                // Go back to categories view
                showView('categoriesView');
                document.getElementById('eduBackText').textContent = 'Back to Home';
            }
        }
        
        // Subject links mapping
        const subjectLinks = {
            'BNSS': 'https://example.com/bnss',
            'BNS': 'https://example.com/bns',
            'BSA': 'https://example.com/bsa',
            'Constitutional Law': 'https://example.com/constitutional-law',
            'CPC': 'https://example.com/cpc',
            'Accounting-I': 'https://example.com/accounting-1',
            'Accounting-II': 'https://example.com/accounting-2',
            'BSM': 'https://example.com/bsm',
            'BMS': 'https://example.com/bms',
            'FMA': 'https://example.com/fma',
            'FCA': 'https://example.com/fca',
            'IT': 'https://example.com/it',
            'Financial Accounting': 'https://example.com/financial-accounting',
            'Cost Accounting': 'https://example.com/cost-accounting',
            'Management Accounting': 'https://example.com/management-accounting',
            'Business Law': 'https://example.com/business-law',
            'Company Law': 'https://example.com/company-law',
            'Income Tax': 'https://example.com/income-tax',
            'GST': 'https://example.com/gst',
            'Political Science-I': 'https://example.com/political-science-1',
            'Political Science-II': 'https://example.com/political-science-2',
            'Economics-I': 'https://example.com/economics-1',
            'Economics-II': 'https://example.com/economics-2',
            'History-I': 'https://example.com/history-1',
            'History-II': 'https://example.com/history-2',
            'English-I': 'https://example.com/english-1',
            'English-II': 'https://example.com/english-2'
        };
        
        // Social help links mapping
        const socialLinks = {
            'justice': 'https://example.com/justice-help',
            'government': 'https://example.com/government-contact',
            'newspaper': 'https://example.com/newspapers',
            'spiritual': 'https://example.com/spiritual-knowledge'
        };
        
        // Open subject in new window
        function openSubject(event, subjectName) {
            event.preventDefault();
            const url = subjectLinks[subjectName] || 'https://example.com/subject-not-found';
            window.open(url, '_blank', 'noopener,noreferrer');
        }
        
        // Open social help in new window
        function openSocialHelp(event, helpType) {
            event.preventDefault();
            const url = socialLinks[helpType] || 'https://example.com/help-not-found';
            window.open(url, '_blank', 'noopener,noreferrer');
        }
        
        // Pause audio when page hidden
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                Object.values(audioManagers).forEach(manager => {
                    if (manager.isPlaying) {
                        manager.audio.pause();
                    }
                });
            }
        });
        
        // Enhanced touch feedback
        document.querySelectorAll('.btn, .audio-card, .subject-card, .category-card, .social-btn, .back-btn').forEach(el => {
            el.addEventListener('touchstart', () => {
                el.style.transform = 'scale(0.95)';
            });
            el.addEventListener('touchend', () => {
                el.style.transform = 'scale(1)';
            });
        });
    </script>
</body>
</html>
